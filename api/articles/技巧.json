{"title":"R语言技巧","uid":"edb3d07193401a512e876858ee38ca53","slug":"技巧","date":"2023-11-05T04:59:55.000Z","updated":"2023-11-05T04:59:06.191Z","comments":true,"path":"api/articles/技巧.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/sygsunshine/images1_20231102/imgs/image-20231104160426061.png","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"设置\"><a href=\"#设置\" class=\"headerlink\" title=\"设置\"></a>设置</h1><h3 id=\"python加载包太慢\"><a href=\"#python加载包太慢\" class=\"headerlink\" title=\"python加载包太慢\"></a>python加载包太慢</h3><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> pip3 install torch(包名)  -i http://pypi.douban.com/simple --trusted-host pypi.douban.com</span><br><span class=\"line\"></span><br><span class=\"line\">python hyperparameter_optimization.py --gpu <span class=\"number\">0</span> --data_path ../data/traindata.csv --features_path ../data/traindata-feat.npy --no_features_scaling --dataset_type classification  --num_iters <span class=\"number\">20</span> --config_save_path hyperopt_it20.json </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"换源以及常用R包\"><a href=\"#换源以及常用R包\" class=\"headerlink\" title=\"换源以及常用R包\"></a>换源以及常用R包</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">##----- Information ------</span></span><br><span class=\"line\"><span class=\"comment\">##------ Author: sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Date: Tue Mar 15 09:22:19 2022 ------##     ##date()   timestamp()</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Edit_Time: ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Editors:sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Description: deal with the drugbank file------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ File_Path: &quot;D:/Aliyun/3.药物数据文档/药物数据文档/预测药物集合/drugbank&quot;------##</span></span><br><span class=\"line\"></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"comment\">#清除变量</span></span><br><span class=\"line\">gc<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"comment\">#释放内存</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span>stringsAsFactors <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\">pacman<span class=\"operator\">::</span>p_load<span class=\"punctuation\">(</span><span class=\"string\">&quot;rio&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;magrittr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tidyverse&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;stringr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tibble&quot;</span><span class=\"punctuation\">)</span> <span class=\"comment\">#一般使用 tibble : add_colum</span></span><br><span class=\"line\">pacman<span class=\"operator\">::</span>p_load<span class=\"punctuation\">(</span><span class=\"string\">&quot;rio&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;magrittr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tidyverse&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;stringr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tibble&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;xml2&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;rvest&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">               <span class=\"string\">&quot;dplyr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;raster&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;devtools&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;Rselenuim&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;Rwebdriver&quot;</span><span class=\"punctuation\">)</span> <span class=\"comment\">#爬虫使用</span></span><br><span class=\"line\"></span><br><span class=\"line\">pacman<span class=\"operator\">::</span>p_load<span class=\"punctuation\">(</span><span class=\"string\">&quot;rio&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;magrittr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tidyverse&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;stringr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tibble&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;data.table&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">               <span class=\"string\">&quot;survminer&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;survival&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;futile.logger&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ggrisk&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;pheatmap&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">               <span class=\"string\">&quot;ggplot2&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ggstatsplot&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ggsci&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;timeROC&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;maftools&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;edgeR&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">               <span class=\"string\">&quot;DESeq2&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;FactoMineR&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;factoextra&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;clusterProfiler&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;org.Hs.eg.db&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">               <span class=\"string\">&quot;org.Mm.eg.db&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;stringi&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;patchwork&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;VennDiagram&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;RColorBrewer&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">               <span class=\"string\">&quot;ggplotify&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;GEOquery&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;TCGAbiolinks&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;SummarizedExperiment&quot;</span><span class=\"punctuation\">)</span> <span class=\"comment\"># TCGA, GEO使用</span></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span>a<span class=\"punctuation\">,</span>b<span class=\"punctuation\">,</span><span class=\"built_in\">c</span><span class=\"punctuation\">)</span>;gc<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"comment\">#清除Rstudio中的变量，并释放其所占用的内存</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># library(GEOquery)</span></span><br><span class=\"line\"><span class=\"comment\"># getGEOSuppFiles(&quot;GSE136001&quot;)</span></span><br><span class=\"line\"></span><br><span class=\"line\">browseVignettes<span class=\"punctuation\">(</span><span class=\"string\">&quot;ChAMP&quot;</span><span class=\"punctuation\">)</span><span class=\"comment\">###查看说明</span></span><br><span class=\"line\">RSiteSearch<span class=\"punctuation\">(</span><span class=\"string\">&quot;RSS&quot;</span><span class=\"punctuation\">)</span>;<span class=\"operator\">/</span><span class=\"operator\">/</span>返回对RSS的网络解释</span><br><span class=\"line\"></span><br><span class=\"line\">tiff<span class=\"punctuation\">(</span><span class=\"string\">&quot;基于肾透明细胞癌生存曲线.tif&quot;</span><span class=\"punctuation\">,</span>width <span class=\"operator\">=</span> <span class=\"number\">1800</span><span class=\"punctuation\">,</span>height <span class=\"operator\">=</span> <span class=\"number\">1600</span><span class=\"punctuation\">,</span>units <span class=\"operator\">=</span> <span class=\"string\">&quot;px&quot;</span><span class=\"punctuation\">,</span>res<span class=\"operator\">=</span><span class=\"number\">300</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">dev.off<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">pdf<span class=\"punctuation\">(</span><span class=\"string\">&quot;基于肾透明细胞癌膀胱癌KM生存曲线.pdf&quot;</span><span class=\"punctuation\">,</span>width<span class=\"operator\">=</span><span class=\"number\">8</span><span class=\"punctuation\">,</span>height<span class=\"operator\">=</span><span class=\"number\">6</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">dev.off<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">apply<span class=\"punctuation\">(</span>dfll<span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span> file.rename<span class=\"punctuation\">(</span>x<span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>paste0<span class=\"punctuation\">(</span>x<span class=\"punctuation\">[</span><span class=\"number\">3</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;.zip&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"monocle2R包报错修改：解决monocle中orderCells报错的一波三折-·-Issue-2762-·-ixxmu-mp-duty-github-com\"><a href=\"#monocle2R包报错修改：解决monocle中orderCells报错的一波三折-·-Issue-2762-·-ixxmu-mp-duty-github-com\" class=\"headerlink\" title=\"monocle2R包报错修改：解决monocle中orderCells报错的一波三折 · Issue #2762 · ixxmu&#x2F;mp_duty (github.com)\"></a>monocle2R包报错修改：<a href=\"https://github.com/ixxmu/mp_duty/issues/2762\">解决monocle中orderCells报错的一波三折 · Issue #2762 · ixxmu&#x2F;mp_duty (github.com)</a></h3><p>手动下载monocle2的tar.gz文件，将其解压为monocle文件，在monocle文件夹下新建一个Rproj文件，双击Rproj文件，在其中找到order_cell.R文件，打开脚本，将1620和1621行的代码从</p>\n<p>if(class(projection) !&#x3D; ‘matrix’)</p>\n<p>projection &lt;- as.matrix(projection)</p>\n<p>修改为 projection &lt;- as.matrix(projection)</p>\n<p>保存脚本，在R studio 的Console的位置用.libPaths()查找出R包的安装位置如下：</p>\n<p>.libPaths()</p>\n<p>[1] “E:&#x2F;Software_install&#x2F;R&#x2F;R-4.2.2&#x2F;library”</p>\n<p>根据这个路径找到library文件夹（如果是mac电脑，直接将以上文件路径复制到聚焦搜索框就能快速定位到文件位置）</p>\n<p>将改好的monocle文件拖进library文件夹后，在 R studio,中输入以下命令来加载这个包</p>\n<p>devtools::load_all(“E:&#x2F;Software_install&#x2F;R&#x2F;R-4.2.2&#x2F;library&#x2F;monocle”)</p>\n<p>First, change the code of monocle&#x2F;R&#x2F;order_cell.R in function project2MST()</p>\n<p>from</p>\n<p><code>if(class(projection) != &#39;matrix&#39;) projection &lt;- as.matrix(projection)</code></p>\n<p>to</p>\n<p><code>projection &lt;- as.matrix(projection)</code></p>\n<p>Second, modified the code of &#x2F; monocle&#x2F;R &#x2F;BEAM.R</p>\n<p>from:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (progenitor_method == &quot;duplicate&quot;) &#123; &#125;</span><br><span class=\"line\">else if (progenitor_method == &quot;sequential_split&quot;) &#123; &#125;</span><br></pre></td></tr></table></figure>\n\n<p>to:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (&#x27;duplicate&#x27; %in% progenitor_method)&#123;&#125;</span><br><span class=\"line\">else if(&#x27;sequential_split&#x27; %in% progenitor_method)&#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Third, modified the code of &#x2F; monocle&#x2F;R &#x2F;utils.R</p>\n<p>from:</p>\n<p><code>class(x) %in% c(&quot;dgCMatrix&quot;, &quot;dgTMatrix&quot;)</code></p>\n<p>to:</p>\n<p><code>any(class(x) %in% c(&quot;dgCMatrix&quot;, &quot;dgTMatrix&quot;))</code></p>\n<h3 id=\"导出高清图片常用\"><a href=\"#导出高清图片常用\" class=\"headerlink\" title=\"导出高清图片常用\"></a>导出高清图片常用</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tiff<span class=\"punctuation\">(</span><span class=\"string\">&quot;基于肾透明细胞癌生存曲线.tif&quot;</span><span class=\"punctuation\">,</span>width <span class=\"operator\">=</span> <span class=\"number\">1800</span><span class=\"punctuation\">,</span>height <span class=\"operator\">=</span> <span class=\"number\">1600</span><span class=\"punctuation\">,</span>units <span class=\"operator\">=</span> <span class=\"string\">&quot;px&quot;</span><span class=\"punctuation\">,</span>res<span class=\"operator\">=</span><span class=\"number\">300</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">dev.off<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">pdf<span class=\"punctuation\">(</span><span class=\"string\">&quot;基于肾透明细胞癌膀胱癌KM生存曲线.pdf&quot;</span><span class=\"punctuation\">,</span>width<span class=\"operator\">=</span><span class=\"number\">8</span><span class=\"punctuation\">,</span>height<span class=\"operator\">=</span><span class=\"number\">6</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">dev.off<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"帮助\"><a href=\"#帮助\" class=\"headerlink\" title=\"帮助\"></a>帮助</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">browseVignettes<span class=\"punctuation\">(</span><span class=\"string\">&quot;ChAMP&quot;</span><span class=\"punctuation\">)</span><span class=\"comment\">###查看说明</span></span><br><span class=\"line\">RSiteSearch<span class=\"punctuation\">(</span><span class=\"string\">&quot;RSS&quot;</span><span class=\"punctuation\">)</span>;<span class=\"operator\">/</span><span class=\"operator\">/</span>返回对RSS的网络解释</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"apply家族套用\"><a href=\"#apply家族套用\" class=\"headerlink\" title=\"apply家族套用\"></a>apply家族套用</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https<span class=\"operator\">:</span><span class=\"operator\">/</span><span class=\"operator\">/</span>www.zhihu.com<span class=\"operator\">/</span>question<span class=\"operator\">/</span><span class=\"number\">265169584</span></span><br><span class=\"line\"></span><br><span class=\"line\">apply<span class=\"punctuation\">(</span>a<span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    apply<span class=\"punctuation\">(</span>x<span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>y<span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        apply<span class=\"punctuation\">(</span>y<span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>z<span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">             z<span class=\"operator\">=</span>x<span class=\"operator\">+</span>y;<span class=\"built_in\">return</span><span class=\"punctuation\">(</span>z<span class=\"punctuation\">)</span></span><br><span class=\"line\">        <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"operator\">:</span> 按行计算 ，<span class=\"number\">2</span> ：按列计算  </span><br><span class=\"line\"></span><br><span class=\"line\">apply<span class=\"punctuation\">(</span>dfll<span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span> file.rename<span class=\"punctuation\">(</span>x<span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>paste0<span class=\"punctuation\">(</span>x<span class=\"punctuation\">[</span><span class=\"number\">3</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;.zip&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#x[2] x[3]分别为dfll中一行的第2列和第3列</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"最推荐的笔记软件推荐\"><a href=\"#最推荐的笔记软件推荐\" class=\"headerlink\" title=\"最推荐的笔记软件推荐\"></a>最推荐的笔记软件推荐</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>双链： 1、typora 2、obsidian 3、logseq 4、思源笔记 5、Roam Research 6、葫芦笔记 7、小书匠 8、CMD Markdown 9、Writeathon(卡片) 10、Heptabase(白板软件) 11、Roma Edit 12、Roma Note</p>\n<p>13、TiddlyWiki 、Athens 14、Trilium 15、Notion、FlowUs、Wolai</p></blockquote>\n<h3 id=\"笔记软件推荐\"><a href=\"#笔记软件推荐\" class=\"headerlink\" title=\"笔记软件推荐\"></a>笔记软件推荐</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>typora、obsidian、logseq、思源笔记、notion、marktext、sublime text、vscode、atom、幕布、flowus、语雀、飞书文档、wolai、getmind、小书匠、Rmarkdwon、onenote、RoamEdit、joplin、trilium、CMD Markdown、ghostwriter、StackEdit–在线</p></blockquote>\n<h3 id=\"Latex软件推荐\"><a href=\"#Latex软件推荐\" class=\"headerlink\" title=\"Latex软件推荐\"></a>Latex软件推荐</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Overleaf、vscode、atom、sublime text、TexPage、Slager、Rmarkdown</p></blockquote>\n<h3 id=\"Markdown\"><a href=\"#Markdown\" class=\"headerlink\" title=\"Markdown\"></a>Markdown</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>typora, Simlenote, laverna,Boostnote, Inkdrop, CMD Markdown, 马克飞象, Yu Writer, 看云, 有道云笔记, 为知笔记, 蚂蚁笔记, Vnote, Mweb, Joplin, Zettlr, macdown, ulysses, marktext, ghostwriter, focused, byword, marked, Farbox, Notable, bear, iA writer, sublime,vscode,atom,Moeditor, Remarkable</p></blockquote>\n<h3 id=\"装机软件推荐\"><a href=\"#装机软件推荐\" class=\"headerlink\" title=\"装机软件推荐\"></a>装机软件推荐</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>everything、wox、酷我音乐、右键菜单管理、图吧工具箱、backiee、office2016、edge、chrome、幕布、typora、tabby、ikuuu、QQ、微信、vscode、sublime text、notepad、notepad++、pycharm、endnote、zotero、知云文献翻译、棵岩阅读、bookxnotepro、bandzip、7zip、IDM、</p></blockquote>\n<h3 id=\"设置文件标签\"><a href=\"#设置文件标签\" class=\"headerlink\" title=\"设置文件标签\"></a>设置文件标签</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># <span class=\"doctag\">TODO:</span> 计算网络药理学作业</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># Author: 苏阳光</span></span><br><span class=\"line\"><span class=\"comment\"># Date 2021年11月7日</span></span><br><span class=\"line\"><span class=\"comment\">###############################################################################</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#&#x27;##########  ---- Paragraph &lt;1&gt; ----  ###########  </span></span><br><span class=\"line\"><span class=\"comment\">#&#x27; 核心目标：使用drug bank药物和靶点数据库生成网络（CytoScape）</span></span><br><span class=\"line\"><span class=\"comment\">#&#x27; </span></span><br><span class=\"line\"><span class=\"comment\">#&#x27;############ [21-10-07] ############</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##----- Information ------</span></span><br><span class=\"line\"><span class=\"comment\">##------ Author: sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Sat Apr 23 14:39:38 2022 ------##     ##date()   timestamp()</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Edit_Time: ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Editors:sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Description: study tidyverse------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ File_Path: ------##  getwd()</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"KEGG富集失败-enrichKEGG\"><a href=\"#KEGG富集失败-enrichKEGG\" class=\"headerlink\" title=\"KEGG富集失败 enrichKEGG\"></a>KEGG富集失败 enrichKEGG</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;R.utils&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>R.utils<span class=\"punctuation\">)</span></span><br><span class=\"line\">R.utils<span class=\"operator\">::</span>setOption<span class=\"punctuation\">(</span><span class=\"string\">&quot;clusterProfiler.download.method&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;auto&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">kegg<span class=\"operator\">&lt;-</span>enrichKEGG<span class=\"punctuation\">(</span>Gene<span class=\"punctuation\">,</span> organism <span class=\"operator\">=</span><span class=\"string\">&#x27;hsa&#x27;</span><span class=\"punctuation\">,</span>keyType <span class=\"operator\">=</span><span class=\"string\">&#x27;kegg&#x27;</span><span class=\"punctuation\">,</span>pvalueCutoff<span class=\"operator\">=</span><span class=\"number\">1</span><span class=\"punctuation\">,</span>pAdjustMethod<span class=\"operator\">=</span><span class=\"string\">&#x27;BH&#x27;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">                 use_internal_data <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"R语言注释以及生信R包安装\"><a href=\"#R语言注释以及生信R包安装\" class=\"headerlink\" title=\"R语言注释以及生信R包安装\"></a>R语言注释以及生信R包安装</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">GEO raw下载：</span><br><span class=\"line\">library<span class=\"punctuation\">(</span>GEOquery<span class=\"punctuation\">)</span></span><br><span class=\"line\">getGEOSuppFiles<span class=\"punctuation\">(</span><span class=\"string\">&quot;GSE150321&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##----- Information ------</span></span><br><span class=\"line\"><span class=\"comment\">##------ Author: sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Date: Tue Mar 15 09:22:19 2022 ------##     ##date()   timestamp()</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Edit_Time: ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Editors:sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Description: deal with the drugbank file------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ File_Path: &quot;D:/Aliyun/3.药物数据文档/药物数据文档/预测药物集合/drugbank&quot;------##</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#---- 换源 ----</span></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#---- R包以及设置 ----</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span>stringsAsFactors <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rio<span class=\"punctuation\">)</span> <span class=\"comment\"># A Swiss-Army Knife for Data I/O # A Swiss-Army Knife for Data I/O</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>magrittr<span class=\"punctuation\">)</span> <span class=\"comment\"># A Forward-Pipe Operator for R</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span>scipen <span class=\"operator\">=</span> <span class=\"number\">800</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#---- step 1 : 数据导入以及处理 ----</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">### ---------------</span></span><br><span class=\"line\"><span class=\"comment\">###</span></span><br><span class=\"line\"><span class=\"comment\">### Create: Jianming Zeng</span></span><br><span class=\"line\"><span class=\"comment\">### Date: 2019-04-02 21:59:01</span></span><br><span class=\"line\"><span class=\"comment\">### Email: jmzeng1314@163.com</span></span><br><span class=\"line\"><span class=\"comment\">### Blog: http://www.bio-info-trainee.com/</span></span><br><span class=\"line\"><span class=\"comment\">### Forum:  http://www.biotrainee.com/thread-1376-1-1.html</span></span><br><span class=\"line\"><span class=\"comment\">### CAFS/SUSTC/Eli Lilly/University of Macau</span></span><br><span class=\"line\"><span class=\"comment\">### Update Log:   2019-04-02  second version</span></span><br><span class=\"line\"><span class=\"comment\">###</span></span><br><span class=\"line\"><span class=\"comment\">### ---------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 强调，不是所有的R包都需要安装成功的。</span></span><br><span class=\"line\"><span class=\"comment\">## 强调，不是所有的R包都需要安装成功的。</span></span><br><span class=\"line\"><span class=\"comment\">## 强调，不是所有的R包都需要安装成功的。</span></span><br><span class=\"line\"><span class=\"comment\">## 强调，不是所有的R包都需要安装成功的。</span></span><br><span class=\"line\"><span class=\"comment\">## 失败就失败，大不了从头再来，卸载R语言，从新开始。</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 强调，中国大陆的粉丝务必注意下载镜像。</span></span><br><span class=\"line\"><span class=\"comment\">## 强调，管是什么电脑，都请务必安装好R及Rstudio哦</span></span><br><span class=\"line\"><span class=\"comment\"># 所有的软件都安装在c盘哦，然后系统用户名最好是不要用中文，写代码最怕中文字符串哦！</span></span><br><span class=\"line\"><span class=\"comment\"># 生信0基础第一步，下载R和Rstudio并且安装在自己的电脑上面。官网链接是 </span></span><br><span class=\"line\"><span class=\"comment\"># - R: https://mirrors.tuna.tsinghua.edu.cn/CRAN/</span></span><br><span class=\"line\"><span class=\"comment\"># - RStudio：https://www.rstudio.com/products/rstudio/download/#download </span></span><br><span class=\"line\"><span class=\"comment\"># 如果你的网络不好，可以从我整理的网盘下载，链接：https://share.weiyun.com/5hW6VAA  密码：3fuhrm</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\">#清空当前工作空间变量  </span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos  </span><br><span class=\"line\"><span class=\"comment\">#查看当前工作空间默认的下载包路径</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror </span><br><span class=\"line\"><span class=\"comment\">#查看使用BioCManager下载包的默认路径</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\"># 指定使用BioCManager下载的路径</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\"># 指定使用install.packages下载包的路径</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># https://bioconductor.org/packages/release/bioc/html/GEOquery.html</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"punctuation\">(</span><span class=\"operator\">!</span>requireNamespace<span class=\"punctuation\">(</span><span class=\"string\">&quot;BiocManager&quot;</span><span class=\"punctuation\">,</span> quietly <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;BiocManager&quot;</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\">#判断是否存在BiocManger包，没有的话下载该包</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#BiocManager::install(&quot;KEGG.db&quot;,ask = F,update = F)</span></span><br><span class=\"line\"><span class=\"comment\">#BiocManager::install(c(&quot;GSEABase&quot;,&quot;GSVA&quot;,&quot;clusterProfiler&quot; ),ask = F,update = F)</span></span><br><span class=\"line\"><span class=\"comment\">#BiocManager::install(c(&quot;GEOquery&quot;,&quot;limma&quot;,&quot;impute&quot; ),ask = F,update = F)</span></span><br><span class=\"line\"><span class=\"comment\">#BiocManager::install(c(&quot;genefu&quot;,&quot;org.Hs.eg.db&quot;,&quot;hgu133plus2.db&quot; ),ask = F,update = F)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#判断是否存在这些包，不存在的话安装这些包</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;KEGG.db&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;KEGG.db&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;GSEABase&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;GSEABase&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;GSVA&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;GSVA&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;clusterProfiler&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;clusterProfiler&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;GEOquery&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;GEOquery&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;limma&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;limma&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;impute&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;impute&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;genefu&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;genefu&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;org.Hs.eg.db&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;org.Hs.eg.db&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;hgu133plus2.db&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;hgu133plus2.db&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;ConsensusClusterPlus&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;ConsensusClusterPlus&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&#x27;airway&#x27;</span><span class=\"punctuation\">,</span><span class=\"string\">&#x27;DESeq2&#x27;</span><span class=\"punctuation\">,</span><span class=\"string\">&#x27;edgeR&#x27;</span><span class=\"punctuation\">,</span><span class=\"string\">&#x27;limma&#x27;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                     ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;maftools&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;maftools&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;genefilter&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;genefilter&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;CLL&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;CLL&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;org.Hs.eg.db&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&#x27;org.Hs.eg.db&#x27;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;maftools&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;maftools&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;RTCGA&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;RTCGA&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;RTCGA.clinical&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;RTCGA.clinical&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># https://bioconductor.org/packages/3.6/data/experiment/src/contrib/RTCGA.clinical_20151101.8.0.tar.gzn</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span> require<span class=\"punctuation\">(</span><span class=\"string\">&quot;RTCGA.miRNASeq&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> BiocManager<span class=\"operator\">::</span>install<span class=\"punctuation\">(</span><span class=\"string\">&quot;RTCGA.miRNASeq&quot;</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 如果万一是 R3.4 版本之前的，请使用下面代码下载该项目所需要的包</span></span><br><span class=\"line\"><span class=\"comment\"># source(&quot;https://bioconductor.org/BiocManager::install.R&quot;) </span></span><br><span class=\"line\"><span class=\"comment\"># library(&#x27;BiocInstaller&#x27;) </span></span><br><span class=\"line\"><span class=\"comment\"># options(BioC_mirror=&quot;https://mirrors.ustc.edu.cn/bioc/&quot;) </span></span><br><span class=\"line\"><span class=\"comment\"># BiocInstaller::BiocManager::install(&quot;GEOquery&quot;)</span></span><br><span class=\"line\"><span class=\"comment\"># BiocInstaller::BiocManager::install(c(&quot;limma&quot;))</span></span><br><span class=\"line\"><span class=\"comment\"># BiocInstaller::BiocManager::install(c(&quot;impute&quot;))</span></span><br><span class=\"line\"></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#install.packages(&#x27;WGCNA&#x27;)</span></span><br><span class=\"line\"><span class=\"comment\">#install.packages(c(&quot;FactoMineR&quot;, &quot;factoextra&quot;))</span></span><br><span class=\"line\"><span class=\"comment\">#install.packages(c(&quot;ggplot2&quot;, &quot;pheatmap&quot;,&quot;ggpubr&quot;))</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#判断是否存在这些包，不存在的话安装这些包</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;WGCNA&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;WGCNA&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;FactoMineR&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;FactoMineR&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;factoextra&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;factoextra&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;ggplot2&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;ggplot2&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;pheatmap&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;pheatmap&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;ggpubr&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;ggpubr&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;glmnet&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;glmnet&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">if</span><span class=\"punctuation\">(</span><span class=\"operator\">!</span>require<span class=\"punctuation\">(</span><span class=\"string\">&quot;randomForest&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> install.packages<span class=\"punctuation\">(</span><span class=\"string\">&quot;randomForest&quot;</span><span class=\"punctuation\">,</span>update <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">,</span>ask <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;FactoMineR&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;factoextra&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>GSEABase<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>GSVA<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>clusterProfiler<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>genefu<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>ggplot2<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>ggpubr<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>hgu133plus2.db<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>limma<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>org.Hs.eg.db<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>pheatmap<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">install.packages<span class=\"punctuation\">(</span><span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;devtools&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;reshape2&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;pheatmap&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                   <span class=\"string\">&quot;ggplot2&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ggfortify&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;stringr&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                   <span class=\"string\">&quot;survival&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;survminer&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;lars&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                   <span class=\"string\">&quot;glmnet&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;timeROC&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ggpubr&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                   <span class=\"string\">&quot;randomForest&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ROCR&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;Hmisc&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                   <span class=\"string\">&quot;caret&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;ggstatsplot&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;tableone&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;rio&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;magrittr&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;data.table&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                   <span class=\"string\">&quot;devtools&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;reshape2&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;randomForest&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>devtools<span class=\"punctuation\">)</span> </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"R爬虫\"><a href=\"#R爬虫\" class=\"headerlink\" title=\"R爬虫\"></a>R爬虫</h2><h3 id=\"Rselenuim动态爬虫1：北药提取\"><a href=\"#Rselenuim动态爬虫1：北药提取\" class=\"headerlink\" title=\"Rselenuim动态爬虫1：北药提取\"></a>Rselenuim动态爬虫1：北药提取</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># <span class=\"doctag\">TODO:</span> 北药提取</span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># Author: 苏阳光</span></span><br><span class=\"line\"><span class=\"comment\"># Date 2022年7月27日</span></span><br><span class=\"line\"><span class=\"comment\">###############################################################################</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#&#x27;##########  ---- Paragraph &lt;1&gt; ----  ###########  </span></span><br><span class=\"line\"><span class=\"comment\">#&#x27; 核心目标：从数据库ETCM中提取所有的草药，并提取其所有的信息</span></span><br><span class=\"line\"><span class=\"comment\">#&#x27; </span></span><br><span class=\"line\"><span class=\"comment\">#&#x27;############ [22-07-27] ############</span></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rio<span class=\"punctuation\">)</span></span><br><span class=\"line\">drug<span class=\"operator\">&lt;-</span> read.csv<span class=\"punctuation\">(</span><span class=\"string\">&#x27;tableExport.csv&#x27;</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;UTF-8&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#https://blog.csdn.net/abc200941410128/article/details/72511931</span></span><br><span class=\"line\"><span class=\"comment\">#java -Dwebdriver.chrome.driver=chromedriver.exe -jar selenium-server-standalone-4.0.0-alpha-1.jar</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rvest<span class=\"punctuation\">)</span>        <span class=\"comment\"># 为了read_html函数</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>RSelenium<span class=\"punctuation\">)</span>    <span class=\"comment\"># 为了使用JavaScript进行网页抓取</span></span><br><span class=\"line\"></span><br><span class=\"line\">drug<span class=\"operator\">$</span><span class=\"string\">&#x27;Habitat in Chinese&#x27;</span> <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">t_sleep <span class=\"operator\">&lt;-</span> 2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"built_in\">dim</span><span class=\"punctuation\">(</span>drug<span class=\"punctuation\">)</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\"><span class=\"comment\">###############连接Server并打开浏览器############################</span></span><br><span class=\"line\"><span class=\"comment\">## 打开浏览器</span></span><br><span class=\"line\">remDr <span class=\"operator\">&lt;-</span> remoteDriver<span class=\"punctuation\">(</span>browserName <span class=\"operator\">=</span><span class=\"string\">&quot;chrome&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">remDr<span class=\"operator\">$</span>open<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\">## 打开网页</span></span><br><span class=\"line\">url <span class=\"operator\">&lt;-</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&#x27;http://www.tcmip.cn/ETCM/index.php/Home/Index/yc_details.html?id=&#x27;</span><span class=\"punctuation\">,</span>i<span class=\"punctuation\">)</span> </span><br><span class=\"line\">remDr<span class=\"operator\">$</span>navigate<span class=\"punctuation\">(</span>url<span class=\"punctuation\">)</span></span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取页面</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp <span class=\"operator\">&lt;-</span> webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#table &gt; tbody &gt; tr &gt; td &gt; div&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">drug<span class=\"punctuation\">[</span>i<span class=\"punctuation\">,</span><span class=\"number\">7</span><span class=\"punctuation\">]</span> <span class=\"operator\">&lt;-</span> data_temp<span class=\"punctuation\">[</span><span class=\"number\">14</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"></span><br><span class=\"line\">remDr<span class=\"operator\">$</span>close<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"comment\">#打开浏览器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">write.csv<span class=\"punctuation\">(</span>drug<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;tableExport1.csv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">index<span class=\"operator\">&lt;-</span> grep<span class=\"punctuation\">(</span><span class=\"string\">&quot;黑龙江&quot;</span><span class=\"punctuation\">,</span>drug<span class=\"operator\">$</span>`Habitat in Chinese`<span class=\"punctuation\">)</span> </span><br><span class=\"line\">hei_drug<span class=\"operator\">&lt;-</span> drug<span class=\"punctuation\">[</span>index<span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">save<span class=\"punctuation\">(</span>drug<span class=\"punctuation\">,</span>hei_drug<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;drug.RData&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rio<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">load<span class=\"punctuation\">(</span><span class=\"string\">&#x27;drug.RData&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#https://blog.csdn.net/abc200941410128/article/details/72511931</span></span><br><span class=\"line\"><span class=\"comment\">#java -Dwebdriver.chrome.driver=chromedriver.exe -jar selenium-server-standalone-4.0.0-alpha-1.jar</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rvest<span class=\"punctuation\">)</span>        <span class=\"comment\"># 为了read_html函数</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>RSelenium<span class=\"punctuation\">)</span>    <span class=\"comment\"># 为了使用JavaScript进行网页抓取</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">index <span class=\"operator\">&lt;-</span> row.names<span class=\"punctuation\">(</span>hei_drug<span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep <span class=\"operator\">&lt;-</span> 2</span><br><span class=\"line\">dat <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>index<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">###############连接Server并打开浏览器############################</span></span><br><span class=\"line\">  <span class=\"comment\">## 打开浏览器</span></span><br><span class=\"line\">  remDr <span class=\"operator\">&lt;-</span> remoteDriver<span class=\"punctuation\">(</span>browserName <span class=\"operator\">=</span><span class=\"string\">&quot;chrome&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  remDr<span class=\"operator\">$</span>open<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">## 打开网页</span></span><br><span class=\"line\">  url <span class=\"operator\">&lt;-</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&#x27;http://www.tcmip.cn/ETCM/index.php/Home/Index/yc_details.html?id=&#x27;</span><span class=\"punctuation\">,</span>index<span class=\"punctuation\">[</span>i<span class=\"punctuation\">]</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">  remDr<span class=\"operator\">$</span>navigate<span class=\"punctuation\">(</span>url<span class=\"punctuation\">)</span></span><br><span class=\"line\">  Sys.sleep<span class=\"punctuation\">(</span>t_sleep<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"comment\"># 提取页面</span></span><br><span class=\"line\">  webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">  data_temp <span class=\"operator\">&lt;-</span> webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#table &gt; tbody &gt; tr &gt; td &gt; div&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  data_temp1 <span class=\"operator\">&lt;-</span> webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#table &gt; tbody &gt; tr:nth-child(16) &gt; td:nth-child(2)&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  data_temp<span class=\"operator\">&lt;-</span> append<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> data_temp<span class=\"punctuation\">,</span> data_temp1<span class=\"punctuation\">,</span> after <span class=\"operator\">=</span> <span class=\"number\">31</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  mm <span class=\"operator\">=</span> matrix<span class=\"punctuation\">(</span>data_temp<span class=\"punctuation\">,</span> nrow<span class=\"operator\">=</span><span class=\"number\">2</span><span class=\"punctuation\">,</span> ncol<span class=\"operator\">=</span><span class=\"number\">20</span><span class=\"punctuation\">,</span> byrow<span class=\"operator\">=</span><span class=\"built_in\">F</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> as.data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  colnames<span class=\"punctuation\">(</span>mm<span class=\"punctuation\">)</span> <span class=\"operator\">&lt;-</span> mm<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">  mm <span class=\"operator\">&lt;-</span> mm<span class=\"punctuation\">[</span><span class=\"operator\">-</span><span class=\"number\">1</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">  row.names<span class=\"punctuation\">(</span>mm<span class=\"punctuation\">)</span> <span class=\"operator\">&lt;-</span> <span class=\"literal\">NULL</span></span><br><span class=\"line\">  dat<span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>dat<span class=\"punctuation\">,</span>mm<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  remDr<span class=\"operator\">$</span>close<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"comment\">#打开浏览器</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">write.csv<span class=\"punctuation\">(</span>dat<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;tableExport2.csv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">save<span class=\"punctuation\">(</span>drug<span class=\"punctuation\">,</span>hei_drug<span class=\"punctuation\">,</span>dat<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;drug1.RData&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">###提取化合物对应靶点</span></span><br><span class=\"line\"></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rio<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">load<span class=\"punctuation\">(</span><span class=\"string\">&#x27;drug1.RData&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#https://blog.csdn.net/abc200941410128/article/details/72511931</span></span><br><span class=\"line\"><span class=\"comment\">#java -Dwebdriver.chrome.driver=chromedriver.exe -jar selenium-server-standalone-4.0.0-alpha-1.jar</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rvest<span class=\"punctuation\">)</span>        <span class=\"comment\"># 为了read_html函数</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>RSelenium<span class=\"punctuation\">)</span>    <span class=\"comment\"># 为了使用JavaScript进行网页抓取</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">index <span class=\"operator\">&lt;-</span> row.names<span class=\"punctuation\">(</span>hei_drug<span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep <span class=\"operator\">&lt;-</span> 2</span><br><span class=\"line\">data1 <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>index<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\">###############连接Server并打开浏览器############################</span></span><br><span class=\"line\">  <span class=\"comment\">## 打开浏览器</span></span><br><span class=\"line\">  remDr <span class=\"operator\">&lt;-</span> remoteDriver<span class=\"punctuation\">(</span>browserName <span class=\"operator\">=</span><span class=\"string\">&quot;chrome&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  remDr<span class=\"operator\">$</span>open<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">## 打开网页</span></span><br><span class=\"line\">  url <span class=\"operator\">&lt;-</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&#x27;http://www.tcmip.cn/ETCM/index.php/Home/Index/yc_details.html?id=&#x27;</span><span class=\"punctuation\">,</span>index<span class=\"punctuation\">[</span>i<span class=\"punctuation\">]</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">  remDr<span class=\"operator\">$</span>navigate<span class=\"punctuation\">(</span>url<span class=\"punctuation\">)</span></span><br><span class=\"line\">  Sys.sleep<span class=\"punctuation\">(</span>t_sleep<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"comment\"># 提取页面</span></span><br><span class=\"line\">  webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  compoud_name<span class=\"operator\">&lt;-</span> webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#table &gt; tbody &gt; tr:nth-child(12) &gt; td:nth-child(2) &gt; div &gt; a&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  compoud_addres<span class=\"operator\">&lt;-</span> paste0<span class=\"punctuation\">(</span><span class=\"string\">&#x27;http://www.tcmip.cn&#x27;</span><span class=\"punctuation\">,</span>webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#table &gt; tbody &gt; tr:nth-child(12) &gt; td:nth-child(2) &gt; div &gt; a&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_attr<span class=\"punctuation\">(</span>name <span class=\"operator\">=</span> <span class=\"string\">&#x27;href&#x27;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  remDr<span class=\"operator\">$</span>close<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"comment\">#关闭浏览器</span></span><br><span class=\"line\">  dat1 <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span><span class=\"punctuation\">(</span>j <span class=\"keyword\">in</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>compoud_name<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">###############连接Server并打开浏览器############################</span></span><br><span class=\"line\">    <span class=\"comment\">## 打开浏览器</span></span><br><span class=\"line\">    remDr <span class=\"operator\">&lt;-</span> remoteDriver<span class=\"punctuation\">(</span>browserName <span class=\"operator\">=</span><span class=\"string\">&quot;chrome&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    remDr<span class=\"operator\">$</span>open<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">    <span class=\"comment\">## 打开网页</span></span><br><span class=\"line\">    url <span class=\"operator\">&lt;-</span>compoud_addres<span class=\"punctuation\">[</span>j<span class=\"punctuation\">]</span></span><br><span class=\"line\">    remDr<span class=\"operator\">$</span>navigate<span class=\"punctuation\">(</span>url<span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span>t_sleep<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"comment\"># 提取页面</span></span><br><span class=\"line\">    webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    target_name<span class=\"operator\">&lt;-</span> webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#table &gt; tbody &gt; tr &gt; td &gt; div&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    mm <span class=\"operator\">=</span> matrix<span class=\"punctuation\">(</span>target_name<span class=\"punctuation\">,</span> nrow<span class=\"operator\">=</span><span class=\"number\">2</span><span class=\"punctuation\">,</span> ncol<span class=\"operator\">=</span><span class=\"number\">33</span><span class=\"punctuation\">,</span> byrow<span class=\"operator\">=</span><span class=\"built_in\">F</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> as.data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    colnames<span class=\"punctuation\">(</span>mm<span class=\"punctuation\">)</span> <span class=\"operator\">&lt;-</span> mm<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    mm <span class=\"operator\">&lt;-</span> mm<span class=\"punctuation\">[</span><span class=\"operator\">-</span><span class=\"number\">1</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    row.names<span class=\"punctuation\">(</span>mm<span class=\"punctuation\">)</span> <span class=\"operator\">&lt;-</span> <span class=\"literal\">NULL</span></span><br><span class=\"line\">    dat1<span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>dat1<span class=\"punctuation\">,</span>mm<span class=\"punctuation\">)</span></span><br><span class=\"line\">    remDr<span class=\"operator\">$</span>close<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"comment\">#关闭浏览器</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  data1<span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>data1<span class=\"punctuation\">,</span>dat1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Rselenuim动态爬虫2：DisGeNet-covid\"><a href=\"#Rselenuim动态爬虫2：DisGeNet-covid\" class=\"headerlink\" title=\"Rselenuim动态爬虫2：DisGeNet_covid\"></a>Rselenuim动态爬虫2：DisGeNet_covid</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># https://zhuanlan.zhihu.com/p/31905460</span></span><br><span class=\"line\"><span class=\"comment\">##----- Information ------</span></span><br><span class=\"line\"><span class=\"comment\">##------ Author: sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Date: Thu Apr 28 09:21:49 2022 ------##     ##date()   timestamp()</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Edit_Time: ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Last_Editors:sunshine ------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ Description: R scarper------##</span></span><br><span class=\"line\"><span class=\"comment\">##------ File_Path: &quot;D:/R-scarpy&quot;------##</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#https://blog.csdn.net/weixin_40628687/article/details/78971934</span></span><br><span class=\"line\"><span class=\"comment\">#https://www.i4k.xyz/article/weixin_40628687/78998740</span></span><br><span class=\"line\"><span class=\"comment\"># 一、RSelenium包和Rwebdriver包的下载安装</span></span><br><span class=\"line\"><span class=\"comment\"># RSelenium包可以从CRAN直接下载安装，Rwebdriver包则需要从github上下载，代码如下（要先安装devtools包）：</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># java -Dwebdriver.chrome.driver=chromedriver.exe -jar selenium-server-standalone-4.0.0-alpha-1.jar</span></span><br><span class=\"line\"></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\"><span class=\"comment\"># options()$repos </span></span><br><span class=\"line\"><span class=\"comment\"># options()$BioC_mirror</span></span><br><span class=\"line\"><span class=\"comment\"># options(BioC_mirror=&quot;https://mirrors.ustc.edu.cn/bioc/&quot;)</span></span><br><span class=\"line\"><span class=\"comment\"># options(&quot;repos&quot; = c(CRAN=&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;))</span></span><br><span class=\"line\"><span class=\"comment\"># options()$repos </span></span><br><span class=\"line\"><span class=\"comment\"># options()$BioC_mirror</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###方法一</span></span><br><span class=\"line\"></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;xml2&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;rvest&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;dplyr&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;stringr&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>magrittr<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>raster<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>devtools<span class=\"punctuation\">)</span>  </span><br><span class=\"line\">library<span class=\"punctuation\">(</span>RSelenium<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># library(&quot;devtools&quot;)</span></span><br><span class=\"line\"><span class=\"comment\"># library(&quot;githubinstall&quot;)</span></span><br><span class=\"line\"><span class=\"comment\"># install_github(&quot;crubba/Rwebdriver&quot;)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>Rwebdriver<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#在终端中运行这一行代码，保证</span></span><br><span class=\"line\"><span class=\"comment\">#java -Dwebdriver.chrome.driver=chromedriver.exe -jar selenium-server-standalone-4.0.0-alpha-1.jar</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#连接Server</span></span><br><span class=\"line\">remDr <span class=\"operator\">&lt;-</span> remoteDriver<span class=\"punctuation\">(</span>remoteServerAddr <span class=\"operator\">=</span> <span class=\"string\">&quot;localhost&quot;</span></span><br><span class=\"line\">                      <span class=\"punctuation\">,</span> port <span class=\"operator\">=</span> <span class=\"number\">4444</span> <span class=\"comment\">#这个port与上面保持一致</span></span><br><span class=\"line\">                      <span class=\"punctuation\">,</span> browserName <span class=\"operator\">=</span> <span class=\"string\">&quot;chrome&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 打开浏览器</span></span><br><span class=\"line\"><span class=\"comment\">#remDr &lt;- remoteDriver(browserName =&quot;chrome&quot;)</span></span><br><span class=\"line\">remDr<span class=\"operator\">$</span>open<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\">## 打开网页</span></span><br><span class=\"line\">url <span class=\"operator\">&lt;-</span><span class=\"string\">&#x27;https://www.disgenet.org/covid/genes/summary/&#x27;</span></span><br><span class=\"line\">remDr<span class=\"operator\">$</span>navigate<span class=\"punctuation\">(</span>url<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">##设置每页展示200个</span></span><br><span class=\"line\">xpath11 <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_length&quot;]/label/select/option[5]&#x27;</span></span><br><span class=\"line\">selectBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                               value <span class=\"operator\">=</span> xpath11<span class=\"punctuation\">)</span></span><br><span class=\"line\">selectBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#等待30s</span></span><br><span class=\"line\">t_sleep <span class=\"operator\">&lt;-</span> 30</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####2</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[3]/a&#x27;</span> <span class=\"comment\">#paste0(&#x27;//*[@id=&quot;DataTables_Table_0_paginate\\&quot;]/ul/li[&#x27;,7,&#x27;]/a&#x27;)</span></span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####3</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[4]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####4</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[5]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####5</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####6</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####7</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####8</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####9</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[7]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####10</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[8]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">covid_genesummary_info <span class=\"operator\">&lt;-</span> na.omit<span class=\"punctuation\">(</span>info<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rio<span class=\"punctuation\">)</span></span><br><span class=\"line\">export<span class=\"punctuation\">(</span>covid_genesummary_info<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;covid_genesummary_info.txt&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">save<span class=\"punctuation\">(</span>covid_genesummary_info<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;covid_genesummary_info.RData&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">###方法二</span></span><br><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;xml2&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;rvest&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;dplyr&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span><span class=\"string\">&quot;stringr&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>magrittr<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>raster<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>devtools<span class=\"punctuation\">)</span>  </span><br><span class=\"line\">library<span class=\"punctuation\">(</span>RSelenium<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># library(&quot;devtools&quot;)</span></span><br><span class=\"line\"><span class=\"comment\"># library(&quot;githubinstall&quot;)</span></span><br><span class=\"line\"><span class=\"comment\"># install_github(&quot;crubba/Rwebdriver&quot;)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>Rwebdriver<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#在终端中运行这一行代码，保证</span></span><br><span class=\"line\"><span class=\"comment\">#java -Dwebdriver.chrome.driver=chromedriver.exe -jar selenium-server-standalone-4.0.0-alpha-1.jar</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#连接Server</span></span><br><span class=\"line\">remDr <span class=\"operator\">&lt;-</span> remoteDriver<span class=\"punctuation\">(</span>remoteServerAddr <span class=\"operator\">=</span> <span class=\"string\">&quot;localhost&quot;</span></span><br><span class=\"line\">                      <span class=\"punctuation\">,</span> port <span class=\"operator\">=</span> <span class=\"number\">4444</span> <span class=\"comment\">#这个port与上面保持一致</span></span><br><span class=\"line\">                      <span class=\"punctuation\">,</span> browserName <span class=\"operator\">=</span> <span class=\"string\">&quot;chrome&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 打开浏览器</span></span><br><span class=\"line\"><span class=\"comment\">#remDr &lt;- remoteDriver(browserName =&quot;chrome&quot;)</span></span><br><span class=\"line\">remDr<span class=\"operator\">$</span>open<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\"><span class=\"comment\">## 打开网页</span></span><br><span class=\"line\">url <span class=\"operator\">&lt;-</span><span class=\"string\">&#x27;https://www.disgenet.org/covid/genes/summary/&#x27;</span></span><br><span class=\"line\">remDr<span class=\"operator\">$</span>navigate<span class=\"punctuation\">(</span>url<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">##设置每页展示200个</span></span><br><span class=\"line\">xpath11 <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_length&quot;]/label/select/option[5]&#x27;</span></span><br><span class=\"line\">selectBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                               value <span class=\"operator\">=</span> xpath11<span class=\"punctuation\">)</span></span><br><span class=\"line\">selectBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#等待30s</span></span><br><span class=\"line\">t_sleep <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep<span class=\"punctuation\">)</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp<span class=\"punctuation\">)</span></span><br><span class=\"line\">xpath_info <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[3]/a&#x27;</span></span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[4]/a&#x27;</span></span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[5]/a&#x27;</span></span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[7]/a&#x27;</span> </span><br><span class=\"line\">                <span class=\"punctuation\">,</span><span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[8]/a&#x27;</span> <span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>xpath_info<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  xpath <span class=\"operator\">&lt;-</span> xpath_info<span class=\"punctuation\">[</span>i<span class=\"punctuation\">]</span></span><br><span class=\"line\">  nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                               value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">  nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  t_sleep1 <span class=\"operator\">&lt;-</span> 120</span><br><span class=\"line\">  Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">  webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">  data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">  info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####3</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[4]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####4</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[5]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####5</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####6</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####7</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####8</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[6]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####9</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[7]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">####10</span></span><br><span class=\"line\">xpath <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;//*[@id=&quot;DataTables_Table_0_paginate&quot;]/ul/li[8]/a&#x27;</span> </span><br><span class=\"line\">nextBtn <span class=\"operator\">&lt;-</span> remDr<span class=\"operator\">$</span>findElement<span class=\"punctuation\">(</span>using <span class=\"operator\">=</span><span class=\"string\">&#x27;xpath&#x27;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">                             value <span class=\"operator\">=</span> xpath<span class=\"punctuation\">)</span></span><br><span class=\"line\">nextBtn<span class=\"operator\">$</span>clickElement<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">t_sleep1 <span class=\"operator\">&lt;-</span> 60</span><br><span class=\"line\">Sys.sleep<span class=\"punctuation\">(</span>t_sleep1<span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>remDr<span class=\"operator\">$</span>getPageSource<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">webpage <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#DataTables_Table_0_paginate &gt; ul &gt; li.paginate_button.page-item.active &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> print<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 提取表格</span></span><br><span class=\"line\">data_temp1 <span class=\"operator\">&lt;-</span> html_table<span class=\"punctuation\">(</span>webpage<span class=\"punctuation\">,</span> fill <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"operator\">:</span><span class=\"number\">201</span><span class=\"punctuation\">,</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">info <span class=\"operator\">&lt;-</span> rbind<span class=\"punctuation\">(</span>info<span class=\"punctuation\">,</span>data_temp1<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">covid_genesummary_info <span class=\"operator\">&lt;-</span> na.omit<span class=\"punctuation\">(</span>info<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rio<span class=\"punctuation\">)</span></span><br><span class=\"line\">export<span class=\"punctuation\">(</span>covid_genesummary_info<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;covid_genesummary_info.txt&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">save<span class=\"punctuation\">(</span>covid_genesummary_info<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&quot;covid_genesummary_info.RData&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"R静态爬虫rvest-pubmed：covid-19-deep-learning-drug\"><a href=\"#R静态爬虫rvest-pubmed：covid-19-deep-learning-drug\" class=\"headerlink\" title=\"R静态爬虫rvest pubmed：covid-19,deep learning,drug\"></a>R静态爬虫rvest pubmed：covid-19,deep learning,drug</h3><figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm<span class=\"punctuation\">(</span><span class=\"built_in\">list</span> <span class=\"operator\">=</span> ls<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span>   </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\">options<span class=\"punctuation\">(</span>BioC_mirror<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.ustc.edu.cn/bioc/&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"string\">&quot;repos&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>CRAN<span class=\"operator\">=</span><span class=\"string\">&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>repos </span><br><span class=\"line\">options<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>BioC_mirror</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#https://cloud.tencent.com/developer/article/1865752</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#加载R包</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>xml2<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>rvest<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>tidyverse<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 爬取2021年m6a文献,总共有811篇,显示200篇文献,爬取5次即可</span></span><br><span class=\"line\"><span class=\"comment\"># url &lt;- c(&#x27;https://pubmed.ncbi.nlm.nih.gov/?term=m6a&amp;filter=years.2021-2021&amp;size=200&#x27;,</span></span><br><span class=\"line\"><span class=\"comment\">#          &#x27;https://pubmed.ncbi.nlm.nih.gov/?term=m6a&amp;filter=years.2021-2021&amp;size=200&amp;page=2&#x27;,</span></span><br><span class=\"line\"><span class=\"comment\">#          &#x27;https://pubmed.ncbi.nlm.nih.gov/?term=m6a&amp;filter=years.2021-2021&amp;size=200&amp;page=3&#x27;,</span></span><br><span class=\"line\"><span class=\"comment\">#          &#x27;https://pubmed.ncbi.nlm.nih.gov/?term=m6a&amp;filter=years.2021-2021&amp;size=200&amp;page=4&#x27;,</span></span><br><span class=\"line\"><span class=\"comment\">#          &#x27;https://pubmed.ncbi.nlm.nih.gov/?term=m6a&amp;filter=years.2021-2021&amp;size=200&amp;page=5&#x27;)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 或者这样也行</span></span><br><span class=\"line\">url <span class=\"operator\">&lt;-</span> <span class=\"string\">&#x27;https://pubmed.ncbi.nlm.nih.gov/?term=%28%28COVID%29+AND+%28deep+learning%29%29+AND+%28drug%29&amp;size=200&#x27;</span></span><br><span class=\"line\"><span class=\"comment\"># url &lt;- paste(root,1:5,sep = &#x27;&#x27;)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 示例，read_html 返回html格式的内容</span></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## &#123;html_document&#125;</span></span><br><span class=\"line\"><span class=\"comment\">## &lt;html lang=&quot;en&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &lt;head itemscope itemtype=&quot;http://schema.org/WebPage&quot; prefix=&quot;og: http://ogp.me/ns#&quot;&gt;\\n&lt;meta http-equiv ...</span></span><br><span class=\"line\"><span class=\"comment\">## [2] &lt;body&gt;\\n\\n  \\n  \\n    &lt;noscript&gt;\\n  &lt;div class=&quot;no-script-banner&quot; id=&quot;no-script-banner&quot;&gt;\\n    &lt;div cla ...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 节点选择器</span></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#search-results &gt; section.search-results-list &gt; div.search-results-chunks &gt; div &gt; article:nth-child(2) &gt; div.docsum-wrap &gt; div.docsum-content &gt; a&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## &#123;xml_nodeset (1)&#125;</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &lt;a class=&quot;docsum-title&quot; href=&quot;/32749190/&quot; ref=&quot;linksrc=docsum_link&amp;amp;article_id=32749190&amp;amp;ordinalpos=1&amp;amp;page=1&quot; data-ga-category=&quot;result_ ...</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#search-results &gt; section.search-results-list &gt; div.search-results-chunks &gt; div &gt; article:nth-child(2) &gt; div.docsum-wrap &gt; div.docsum-content &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_text<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;\\n                Comprehensive analysis of the transcriptome-wide m6A methylome in colorectal cancer by MeRIP sequencing.\\n              &quot;</span></span><br><span class=\"line\"><span class=\"comment\"># 加上trim = T 参数简洁化内容</span></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;#search-results &gt; section.search-results-list &gt; div.search-results-chunks &gt; div &gt; article:nth-child(2) &gt; div.docsum-wrap &gt; div.docsum-content &gt; a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;Comprehensive analysis of the transcriptome-wide m6A methylome in colorectal cancer by MeRIP sequencing.&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 相对路径</span></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span>xpath <span class=\"operator\">=</span> <span class=\"string\">&#x27;//*[@id=&quot;search-results&quot;]/section[1]/div[1]/div/article[1]/div[2]/div[1]/a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;Comprehensive analysis of the transcriptome-wide m6A methylome in colorectal cancer by MeRIP sequencing.&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 绝对路径</span></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span>xpath <span class=\"operator\">=</span> <span class=\"string\">&#x27;/html/body/main/div[9]/div[2]/section[1]/div[1]/div/article[1]/div[2]/div[1]/a&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;Comprehensive analysis of the transcriptome-wide m6A methylome in colorectal cancer by MeRIP sequencing.&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 节点名称</span></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;.docsum-title&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;Comprehensive analysis of the transcriptome-wide m6A methylome in colorectal cancer by MeRIP sequencing.&quot;</span></span><br><span class=\"line\"><span class=\"comment\">## [2] &quot;RNA m6A methylation promotes the formation of vasculogenic mimicry in hepatocellular carcinoma via Hippo pathway.&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## [199] &quot;Main N6-Methyladenosine Readers: YTH Family Proteins in Cancers.&quot;</span></span><br><span class=\"line\"><span class=\"comment\">## [200] &quot;FTO overexpression inhibits apoptosis of hypoxia/reoxygenation-treated myocardial cells by regulating m6A modification of Mhrt.&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 批量提取文章标题</span></span><br><span class=\"line\">title <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> url<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  title <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>title<span class=\"punctuation\">,</span>read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;.docsum-title&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"># 查看数量</span></span><br><span class=\"line\"><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>title<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] 813</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2、爬取文章作者</span></span><br><span class=\"line\">author <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> url<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  author <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>author<span class=\"punctuation\">,</span>read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">                html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;.full-authors&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">                html_text<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"># 查看数量</span></span><br><span class=\"line\"><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>author<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] 813</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;.docsum-title&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_attrs<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> head<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">read_html<span class=\"punctuation\">(</span>url<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;.docsum-title&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  html_attr<span class=\"punctuation\">(</span>name <span class=\"operator\">=</span> <span class=\"string\">&#x27;href&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> head<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;/32749190/&quot; &quot;/32920668/&quot; &quot;/32821938/&quot; &quot;/33314339/&quot; &quot;/33070036/&quot; &quot;/33156926/&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">## 批量获取文章链接</span></span><br><span class=\"line\"><span class=\"comment\"># 3、爬取文章地址,地址是https://pubmed.ncbi.nlm.nih.gov/加上爬取的编号</span></span><br><span class=\"line\">web <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> url<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  web <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>web<span class=\"punctuation\">,</span>read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&#x27;.docsum-title&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_attr<span class=\"punctuation\">(</span>name <span class=\"operator\">=</span> <span class=\"string\">&#x27;href&#x27;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"># 查看数量</span></span><br><span class=\"line\"><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>web<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] 813</span></span><br><span class=\"line\"><span class=\"comment\"># 连接成网址</span></span><br><span class=\"line\">web_link <span class=\"operator\">&lt;-</span> paste<span class=\"punctuation\">(</span><span class=\"string\">&#x27;https://pubmed.ncbi.nlm.nih.gov&#x27;</span><span class=\"punctuation\">,</span>web<span class=\"punctuation\">,</span>sep <span class=\"operator\">=</span> <span class=\"string\">&#x27;&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">web_link</span><br><span class=\"line\"><span class=\"comment\">## [1] &quot;https://pubmed.ncbi.nlm.nih.gov/32749190/&quot; &quot;https://pubmed.ncbi.nlm.nih.gov/32920668/&quot; &quot;https://pubmed.ncbi.nlm.nih.gov/32821938/&quot;</span></span><br><span class=\"line\"><span class=\"comment\">## [4] &quot;https://pubmed.ncbi.nlm.nih.gov/33314339/&quot; &quot;https://pubmed.ncbi.nlm.nih.gov/33070036/&quot; &quot;https://pubmed.ncbi.nlm.nih.gov/33156926/&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4、爬取文章摘要</span></span><br><span class=\"line\">abstract <span class=\"operator\">&lt;-</span> <span class=\"built_in\">list</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">link <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">a<span class=\"operator\">=</span><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> web_link<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\"># 根据节点相对路径提取</span></span><br><span class=\"line\">  <span class=\"comment\"># abstract[[i]] &lt;- read_html(i,encoding = &#x27;utf-8&#x27;) %&gt;% html_nodes(xpath = &#x27;//*[@id=&quot;enc-abstract&quot;]/p&#x27;) %&gt;% html_text(trim = T)</span></span><br><span class=\"line\">  <span class=\"comment\"># 根据节点绝对路径提取</span></span><br><span class=\"line\">  <span class=\"comment\"># abstract[[i]] &lt;- read_html(i,encoding = &#x27;utf-8&#x27;) %&gt;% html_nodes(xpath = &#x27;/html/body/div[5]/main/div[2]/div[2]/p&#x27;) %&gt;% html_text(trim = T)</span></span><br><span class=\"line\">  <span class=\"comment\"># 根据节点名称提取</span></span><br><span class=\"line\">  abstract<span class=\"punctuation\">[[</span>i<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#enc-abstract &gt; p&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_text<span class=\"punctuation\">(</span>trim <span class=\"operator\">=</span> <span class=\"built_in\">T</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"comment\">#full-view-identifiers &gt; li:nth-child(2) &gt; span &gt; a</span></span><br><span class=\"line\"></span><br><span class=\"line\">  len <span class=\"operator\">&lt;-</span> read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#full-view-identifiers &gt; li:nth-child(3) &gt; span &gt; a&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_attr<span class=\"punctuation\">(</span><span class=\"string\">&quot;href&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> <span class=\"built_in\">length</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span><span class=\"punctuation\">(</span>len<span class=\"operator\">==</span><span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    link<span class=\"punctuation\">[</span>a<span class=\"punctuation\">]</span><span class=\"operator\">&lt;-</span>read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#full-view-identifiers &gt; li:nth-child(2) &gt; span &gt; a&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_attr<span class=\"punctuation\">(</span><span class=\"string\">&quot;href&quot;</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">else</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    link<span class=\"punctuation\">[</span>a<span class=\"punctuation\">]</span><span class=\"operator\">&lt;-</span>read_html<span class=\"punctuation\">(</span>i<span class=\"punctuation\">,</span>encoding <span class=\"operator\">=</span> <span class=\"string\">&#x27;utf-8&#x27;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_nodes<span class=\"punctuation\">(</span><span class=\"string\">&quot;#full-view-identifiers &gt; li:nth-child(3) &gt; span &gt; a&quot;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> html_attr<span class=\"punctuation\">(</span><span class=\"string\">&quot;href&quot;</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  a<span class=\"operator\">=</span>a<span class=\"operator\">+</span><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"># 查看数量</span></span><br><span class=\"line\"><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>abstract<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] 813</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 去除\\n</span></span><br><span class=\"line\">abstract_clean <span class=\"operator\">&lt;-</span> lapply<span class=\"punctuation\">(</span>abstract<span class=\"punctuation\">,</span> gsub<span class=\"punctuation\">,</span>pattern <span class=\"operator\">=</span> <span class=\"string\">&#x27;\\n&#x27;</span><span class=\"punctuation\">,</span>replacement <span class=\"operator\">=</span> <span class=\"string\">&#x27;&#x27;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 连接为一个字符串对于多个部分的摘要</span></span><br><span class=\"line\">abs_res <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span><span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"number\">147</span><span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\"># 判断元素长度</span></span><br><span class=\"line\">  len <span class=\"operator\">=</span> <span class=\"built_in\">length</span><span class=\"punctuation\">(</span>abstract_clean<span class=\"punctuation\">[[</span>i<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span><span class=\"punctuation\">(</span>len <span class=\"operator\">==</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"comment\"># 如果只有一个摘要就保存</span></span><br><span class=\"line\">    abs_res <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>abs_res<span class=\"punctuation\">,</span>abstract_clean<span class=\"punctuation\">[[</span>i<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"keyword\">else</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"comment\"># 如果摘要格式有多个，连接成一个</span></span><br><span class=\"line\">    abs_res <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span>abs_res<span class=\"punctuation\">,</span>paste<span class=\"punctuation\">(</span>abstract_clean<span class=\"punctuation\">[[</span>i<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span>sep <span class=\"operator\">=</span> <span class=\"string\">&#x27;-&#x27;</span><span class=\"punctuation\">,</span>collapse <span class=\"operator\">=</span> <span class=\"string\">&#x27; &#x27;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"># 查看数量</span></span><br><span class=\"line\"><span class=\"built_in\">length</span><span class=\"punctuation\">(</span>abs_res<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">## [1] 813</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5、保存爬取数据</span></span><br><span class=\"line\">final_res <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span>Title <span class=\"operator\">=</span> title<span class=\"punctuation\">,</span>Author <span class=\"operator\">=</span> author<span class=\"punctuation\">,</span>web <span class=\"operator\">=</span> web_link<span class=\"punctuation\">,</span>doi <span class=\"operator\">=</span> link<span class=\"punctuation\">,</span>Abstract <span class=\"operator\">=</span> abs_res<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 6、保存爬取的数据</span></span><br><span class=\"line\">write.csv<span class=\"punctuation\">(</span>final_res<span class=\"punctuation\">,</span>file <span class=\"operator\">=</span> <span class=\"string\">&#x27;Covid_deeplearn_drug_Articles.csv&#x27;</span><span class=\"punctuation\">,</span>row.names <span class=\"operator\">=</span> <span class=\"built_in\">F</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n","feature":"ture","text":"常用的一些R语言技巧...","permalink":"/post/技巧","photos":[],"count_time":{"symbolsCount":"45k","symbolsTime":"40 mins."},"categories":[{"name":"R语言技巧","slug":"R语言技巧","count":1,"path":"api/categories/R语言技巧.json"}],"tags":[{"name":"R包","slug":"R包","count":1,"path":"api/tags/R包.json"},{"name":"R技巧","slug":"R技巧","count":1,"path":"api/tags/R技巧.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\">设置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#python%E5%8A%A0%E8%BD%BD%E5%8C%85%E5%A4%AA%E6%85%A2\"><span class=\"toc-text\">python加载包太慢</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8D%A2%E6%BA%90%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8R%E5%8C%85\"><span class=\"toc-text\">换源以及常用R包</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#monocle2R%E5%8C%85%E6%8A%A5%E9%94%99%E4%BF%AE%E6%94%B9%EF%BC%9A%E8%A7%A3%E5%86%B3monocle%E4%B8%ADorderCells%E6%8A%A5%E9%94%99%E7%9A%84%E4%B8%80%E6%B3%A2%E4%B8%89%E6%8A%98-%C2%B7-Issue-2762-%C2%B7-ixxmu-mp-duty-github-com\"><span class=\"toc-text\">monocle2R包报错修改：解决monocle中orderCells报错的一波三折 · Issue #2762 · ixxmu&#x2F;mp_duty (github.com)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AF%BC%E5%87%BA%E9%AB%98%E6%B8%85%E5%9B%BE%E7%89%87%E5%B8%B8%E7%94%A8\"><span class=\"toc-text\">导出高清图片常用</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%AE%E5%8A%A9\"><span class=\"toc-text\">帮助</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#apply%E5%AE%B6%E6%97%8F%E5%A5%97%E7%94%A8\"><span class=\"toc-text\">apply家族套用</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9C%80%E6%8E%A8%E8%8D%90%E7%9A%84%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">最推荐的笔记软件推荐</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%94%E8%AE%B0%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">笔记软件推荐</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Latex%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">Latex软件推荐</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Markdown\"><span class=\"toc-text\">Markdown</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A3%85%E6%9C%BA%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">装机软件推荐</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A0%87%E7%AD%BE\"><span class=\"toc-text\">设置文件标签</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#KEGG%E5%AF%8C%E9%9B%86%E5%A4%B1%E8%B4%A5-enrichKEGG\"><span class=\"toc-text\">KEGG富集失败 enrichKEGG</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#R%E8%AF%AD%E8%A8%80%E6%B3%A8%E9%87%8A%E4%BB%A5%E5%8F%8A%E7%94%9F%E4%BF%A1R%E5%8C%85%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">R语言注释以及生信R包安装</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#R%E7%88%AC%E8%99%AB\"><span class=\"toc-text\">R爬虫</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Rselenuim%E5%8A%A8%E6%80%81%E7%88%AC%E8%99%AB1%EF%BC%9A%E5%8C%97%E8%8D%AF%E6%8F%90%E5%8F%96\"><span class=\"toc-text\">Rselenuim动态爬虫1：北药提取</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Rselenuim%E5%8A%A8%E6%80%81%E7%88%AC%E8%99%AB2%EF%BC%9ADisGeNet-covid\"><span class=\"toc-text\">Rselenuim动态爬虫2：DisGeNet_covid</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#R%E9%9D%99%E6%80%81%E7%88%AC%E8%99%ABrvest-pubmed%EF%BC%9Acovid-19-deep-learning-drug\"><span class=\"toc-text\">R静态爬虫rvest pubmed：covid-19,deep learning,drug</span></a></li></ol></li></ol></li></ol>","author":{"name":"Sunshine","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/sygsunshine/images1_20231102/imgs/Cache_108c56fc682cfa0c..jpg","link":"/","description":"<p>与其临渊羡鱼，不如退而结网</p>one should take practical steps achieve one's aim","socials":{"github":"https://github.com/sygsunshine","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/374769006?spm_id_from=333.1007.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/sunshine_code"},"mail":{"icon":"/svg/mail.svg","link":"mailto:1440704789@qq.com"},"qq":{"icon":"/svg/qq.svg","link":"tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=1440704789&website=www.oicqzone.com"}}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"分子表示与性质预测中的深度学习方法","uid":"33ae415c73084ad9762360575ee05d6b","slug":"2、Drug Discov Today  分子表示与性质预测中的深度学习方法","date":"2023-11-04T11:14:55.000Z","updated":"2023-11-04T11:18:03.771Z","comments":true,"path":"api/articles/2、Drug Discov Today  分子表示与性质预测中的深度学习方法.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/sygsunshine/images1_20231102/imgs/image-20231104160426061.png","text":"随着人工智能方法的进步，计算机辅助药物设计（CADD）近年来发展迅速。有效的分子表示和准确的性质预测是CADD工作流程中的关键任务。...","permalink":"/post/2、Drug Discov Today  分子表示与性质预测中的深度学习方法","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"深度学习","slug":"深度学习","count":1,"path":"api/categories/深度学习.json"}],"tags":[{"name":"深度学习","slug":"深度学习","count":2,"path":"api/tags/深度学习.json"},{"name":"分子表示","slug":"分子表示","count":1,"path":"api/tags/分子表示.json"},{"name":"性质预测","slug":"性质预测","count":1,"path":"api/tags/性质预测.json"}],"author":{"name":"Sunshine","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/sygsunshine/images1_20231102/imgs/Cache_108c56fc682cfa0c..jpg","link":"/","description":"<p>与其临渊羡鱼，不如退而结网</p>one should take practical steps achieve one's aim","socials":{"github":"https://github.com/sygsunshine","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/374769006?spm_id_from=333.1007.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/sunshine_code"},"mail":{"icon":"/svg/mail.svg","link":"mailto:1440704789@qq.com"},"qq":{"icon":"/svg/qq.svg","link":"tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=1440704789&website=www.oicqzone.com"}}}},"feature":"ture"}}